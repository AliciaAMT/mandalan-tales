<!-- <app-skip-link></app-skip-link> -->
<div class="flex-page">
  <app-app-header></app-app-header>

  <ion-content>
    <main id="main-content" role="main">
      <div style="position: relative; z-index: 999; background: #121212; padding: 1rem;">
        <ion-card class="login-card">
          <ion-card-header>
            <ion-card-title class="login-card-title">Login</ion-card-title>
          </ion-card-header>

          <form (ngSubmit)="login()" #loginForm="ngForm">
            <fieldset>
              <ion-list lines="none">
                <ion-item>
                  <ion-label for="emailInput" position="stacked">Email</ion-label>
                  <ion-input id="emailInput" type="email" name="email" [(ngModel)]="email" required autocomplete="email" inputmode="email"></ion-input>
                </ion-item>

                <ion-item>
                  <ion-label for="passwordInput" position="stacked">Password</ion-label>
                  <ion-input id="passwordInput" type="password" name="password" [(ngModel)]="password" required autocomplete="current-password"></ion-input>
                </ion-item>
              </ion-list>

              <ion-button
                type="submit"
                color="primary"
                class="ion-margin-top"
                id="login-button"
                [disabled]="!loginForm.form.valid"
                expand="block"
                aria-describedby="form-error"
              >
                Login
              </ion-button>

              <div *ngIf="error" id="form-error" role="alert" aria-live="assertive" tabindex="-1" class="error-message">
                {{ error }}
              </div>
            </fieldset>
          </form>
        </ion-card>

        <div class="login-links">
          <!-- <a routerLink="/forgot-password">Forgot your password?</a> -->
          <div class="ion-margin-top">
            New to Mandalan Tales?
            <a routerLink="/create-account">Create an account and begin your journey!</a>
          </div>
        </div>

        <div id="recaptcha-container" class="g-recaptcha" data-sitekey="your-invisible-site-key" data-size="invisible" data-callback="onRecaptchaSuccess" aria-hidden="true"></div>
        <p class="sr-only" id="recaptcha-desc">Invisible reCAPTCHA is used to prevent spam. No action is needed.</p>

        <app-app-footer></app-app-footer>
      </div>
    </main>
  </ion-content>
</div>
